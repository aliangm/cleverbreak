<!--
  Generated template for the PersonalInformationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="header">
  <ion-icon name="arrow-round-back" (click)="viewCtrl.dismiss()" class="back_icon"></ion-icon>
  <ion-row>
    <ion-col class="title">
      Payment&nbsp;methods
    </ion-col>
  </ion-row>
</ion-header>

<ion-content padding>
  <ion-list>
    <ion-row class="card_container">
      <ion-col class="new" (click)="clickViewNewPaymentMethod()">
        <ion-row>
          <ion-col col-12 no-padding>
            <i class="material-icons add_icon">
              add
            </i><br>
            Add new
          </ion-col>
        </ion-row>
      </ion-col>

      <ion-col *ngIf="appInfo.common.userProfile.paypal_email != ''" class="paypal_wrapper">
        <ion-row>
          <ion-col col-12 no-padding text-center>
            <img src="assets/imgs/icon-paypal.png" class="icon_payment" />
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12 no-padding text-center>
            {{this.appInfo.common.userProfile.firstname}} {{this.appInfo.common.userProfile.lastname}}
          </ion-col>
        </ion-row>
      </ion-col>
      <ng-container *ngIf="appInfo.common.cards.length != 0">
      <ion-col *ngFor="let card of appInfo.common.cards" class="card_wrapper">
        <ion-row>
          <ion-col col-12 no-padding text-center>
            <img *ngIf="card.brand == 'Visa'" src="assets/imgs/icon-visa.png" class="icon_payment" />
          </ion-col>
        </ion-row>
        <ion-row *ngIf="card.brand">
          <ion-col col-12 no-padding text-center>
            ****{{card['last4']}}
          </ion-col>
        </ion-row>
        <ion-row *ngIf="card.brand">
            <ion-col col-12 no-padding text-center class="btn_removecard" (click)="removeCard(card)">
              Remove
            </ion-col>
          </ion-row>
      </ion-col>
      </ng-container>
    </ion-row>
  </ion-list>
</ion-content>